# Default CI values for ebpf-agent chart testing
# Used by chart-testing (ct) for lint and install validation

# Enable the agent for CI testing
enabled: true

image:
  repository: public.ecr.aws/w3l5x6r6/kubeadapt/app/kubeadapt-ebpf-agent
  tag: "v0.1.1"
  pullPolicy: Always  # Always pull to avoid stale cache in CI

serviceAccount:
  create: true
  annotations: {}
  name: ""

config:
  # Metrics port
  metricsPort: 9090

  # Use shorter collection interval for CI tests
  collectionInterval: "15s"

  # Debug logging for CI
  logLevel: "debug"
  logFormat: "json"

  # Enable connection tracking
  connectionTracking: true

  # Debug options disabled in CI
  enableProfiling: false
  dumpBPFMaps: false

# Minimal resources for CI environment (Kind cluster)
resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 256Mi

# Tolerations for Kind cluster nodes
tolerations:
  - effect: NoSchedule
    key: node-role.kubernetes.io/master
  - effect: NoSchedule
    key: node-role.kubernetes.io/control-plane

nodeSelector: {}

affinity: {}

env: []
